{% extends "_base.html" %}

{% load static %}
{% load wagtailcore_tags %}
{% load wagtailimages_tags %}

{% block content %}
<!-- <section class="h-[70vh] text-left gradient-image relative">
    <h1 class="text-[20rem] text-[#FFF] opacity-5 absolute bottom-100 z-0 left-30 select-none">{{ page.title }}</h1>
    <div class="w-2/3 mx-auto flex flex-col items-start justify-center pt-40 h-full z-10">
        <h2 class="text-white w-2/3">{{ page.intro }}</h2>
    </div>
</section> -->
<section class="h-[50vh] bg-[#202020] flex flex-col justify-start items-center pt-[10%]">
    <h1 class="text-center text-[#FFF] font-bold">{{ page.title }}</h1>
    <p class="text-white">Lorem ipsum dolor sit amet consectetur adipisicing elit. Sed, tenetur!</p>
</section>

<section class="bg-white py-10">
    <div class="w-2/3 mx-auto">
        <div class="rich-text">
            {{ page.information|richtext }}
        </div>
    </div>
</section>

<section class="bg-white py-20">
    <div class="w-2/3 mx-auto" x-data="{ selected: 'publications' }">
        <div class="grid grid-cols-2 text-center">
            <h3 class="p-5 m-0 bg-body" x-on:click="selected = 'publications'"
                x-bind:class="{ 'gradient-box text-white': selected === 'publications' }">
                <a href="#publications">Publications</a>
            </h3>
            <h3 class="p-5 m-0 bg-body" x-on:click="selected = 'patents'"
                x-bind:class="{ 'gradient-box text-white': selected === 'patents' }">
                <a href="#patents">Patents</a>
            </h3>
        </div>

        <div>
            <label>Publication Type</label>
            <select name="publication_type" hx-get="/research" hx-target="#models" hx-indicator=".htmx-indicator">
                <option value="journal">Journal</option>
                <option value="conference">Conference</option>
            </select>
        </div>
        <div id="models">
             
        </div>



        <div class="mt-10" id="hi">
            <!-- PUBLICATIONS -->
            <div class="text-left rounded-lg flex flex-col items-start justify-start gap-10"
                x-show="selected === 'publications'" x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 scale-90" x-transition:enter-end="opacity-100 scale-100">

                {% for publ in publications %}
                <div class="p-10 pb-10 bg-body shadow-md w-full">
                    <h5 class="font-semibold m-0">{{ publ.title }}
                    </h5>
                    <small>{{ publ.date|date:"M, Y" }}</small>
                    <div class="py-5">
                        <small class="px-4 py-2 bg-slate-200 text-text-75">{{ publ.publication_category|title }}</small>
                    </div>
                    <div class="my-3">
                        <p class="m-0"><b>Authors</b></p>
                        <p class="m-0">
                            {% for center_authors in publ.center_authors.all %}
                            <i>{{ center_authors }}</i>,
                            {% endfor %}

                            {% for ext_authors in publ.external_authors.all %}
                            {{ ext_authors }}
                            {{ forloop.last|yesno:",&#44;"|safe }}
                            {% endfor %}
                        </p>
                    </div>
                    <div class="my-3">
                        <p class="m-0"><b>Publication details</b></p>
                        <p>
                            Lorem, ipsum dolor sit amet consectetur adipisicing elit. Ipsam sunt fugiat atque dolorum
                            eaque, sed vel ratione tempore quod a.
                        </p>
                    </div>
                    <div class="mt-10">
                        <a href="{{ publ.link }}" class="py-3 px-6 gradient-text-box shadow-md text-white rounded-full">
                            Publication link
                            <span class="iconify ml-1 mb-1 inline w-5 h-5" data-icon="charm:arrow-right"></span>
                        </a>
                    </div>
                </div>
                {% endfor %}

            </div>

            <!-- PATENTS -->

            <div class="text-left rounded-lg flex flex-col items-start justify-start gap-10"
                x-show="selected === 'patents'" x-transition:enter="transition ease-out duration-300"
                x-transition:enter-start="opacity-0 scale-90" x-transition:enter-end="opacity-100 scale-100">
                {% for patent in patents %}
                <div class="p-10 pb-10 bg-body shadow-md w-full">
                    <h5 class=" font-semibold m-0">{{ patent.title }}</h5>
                    <small>{{ patent.date|date:"M, Y" }}</small>
                    <div class="py-5">
                        <small class="px-4 py-2 bg-slate-200 text-text-75">{{ patent.status|title }}</small>
                    </div>
                    <div class="my-3">
                        <p class="m-0"><b>Inventors</b></p>
                        <p class="m-0">
                            {% for inv in patent.center_inventors.all %}
                            <i>{{ inv }}</i>,
                            {% endfor %}

                            {% for inv in patent.external_inventors.all %}
                            {{ inv }}
                            {{ forloop.last|yesno:",&#44;"|safe }}
                            {% endfor %}
                        </p>
                    </div>
                </div>
                {% endfor %}

            </div>

        </div>
    </div>
</section>


{% endblock %}